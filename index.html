<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>ç¡çœ å•å·ï¼ˆAPSï¼‰</title>

<style>
  body {
    font-size: 22px;
    max-width: 800px;
    margin: auto;
    line-height: 1.8;
  }
  .question {
    margin-bottom: 25px;
  }
  button {
    font-size: 20px;
    padding: 6px 12px;
    margin-left: 10px;
  }
  .option label {
    display: block;
    margin-left: 20px;
  }
</style>
</head>

<body>

<h1>ç¡çœ å•å·</h1>

<!-- èªé€Ÿè¨­å®šï¼ˆå…¨åŸŸï¼‰ -->
<div style="margin-bottom:30px;">
  <strong>èªéŸ³æœ—è®€é€Ÿåº¦ï¼š</strong>
  <label>
    <input type="radio" name="rate" value="1" checked> æ­£å¸¸
  </label>
  <label>
    <input type="radio" name="rate" value="0.8"> æ…¢é€Ÿ
  </label>
</div>

<hr>

<h2>[0] åŸºæœ¬è³‡æ–™</h2>

<div class="question">
  å§“åï¼ˆå¿…å¡«ï¼‰<br>
  <input type="text" id="name" required>
</div>

<div class="question">
  æ€§åˆ¥ï¼ˆå¿…å¡«ï¼‰<br>
  <label><input type="radio" name="gender" value="ç”·"> ç”·</label>
  <label><input type="radio" name="gender" value="å¥³"> å¥³</label>
</div>

<div class="question">
  å¹´é½¡ï¼ˆå¿…å¡«ï¼‰<br>
  <input type="number" id="age" required>
</div>

<hr>

<h2>[1] å–šé†’å‚¾å‘é‡è¡¨ï¼ˆAPSï¼‰</h2>

<script>
const apsQuestions = [
  "æˆ‘æ˜¯ä¸€å€‹éå¸¸å†·éœçš„äººã€‚",
  "æˆ‘åœ¨ç…©èºä¸å®‰å¾Œéœ€è¦å¾ˆé•·æ™‚é–“æ‰èƒ½æ”¾é¬†ã€‚",
  "ç•¶æˆ‘èˆˆå¥®æ™‚ï¼Œå¾ˆé›£å…¥ç¡ã€‚",
  "ç•¶æˆ‘èˆˆå¥®æ™‚ï¼Œæˆ‘çš„å¿ƒè·³æ¯”å¤§å¤šæ•¸äººå¿«ã€‚",
  "å¤œæ™šæˆ‘å°å™ªéŸ³éå¸¸æ•æ„Ÿã€‚",
  "æˆ‘å¾ˆå®¹æ˜“è¢«çªå¦‚å…¶ä¾†çš„è²éŸ³åš‡åˆ°ã€‚",
  "æˆ‘çš„æƒ…ç·’å¾€å¾€éå¸¸å¼·çƒˆã€‚",
  "æˆ‘å°å¼·å…‰éå¸¸æ•æ„Ÿã€‚",
  "ç¶“æ­·å£“åŠ›äº‹ä»¶å¾Œï¼Œæˆ‘éœ€è¦å¾ˆé•·æ™‚é–“æ‰èƒ½å¹³éœä¸‹ä¾†ã€‚",
  "æˆ‘è¦ºå¾—ã€Œè¼•é¬†ç”Ÿæ´»ã€å¾ˆå®¹æ˜“ã€‚",
  "æˆ‘çš„è‚Œè‚‰ç¶“å¸¸æ„Ÿè¦ºç·Šå¼µæˆ–ç·Šç¹ƒã€‚",
  "æˆ‘ç¶“å¸¸æ„Ÿåˆ°ã€Œç·Šå¼µå…®å…®ã€æˆ–ç·Šç¹ƒã€‚"
];

const options = [
  "å¹¾ä¹å¾ä¸",
  "å¾ˆå°‘",
  "å¶çˆ¾",
  "å¸¸å¸¸",
  "å¹¾ä¹ç¸½æ˜¯"
];

apsQuestions.forEach((q, i) => {
  document.write(`
    <div class="question">
      ${i+1}. ${q}
      <button type="button" onclick="speak('${q}')">ğŸ”Š æœ—è®€</button>
      <div class="option">
  `);

  options.forEach((opt, v) => {
    document.write(`
      <label>
        <input type="radio" name="APS${i+1}" value="${v+1}">
        ${opt}
      </label>
    `);
  });

  document.write("</div></div>");
});
</script>

<button onclick="submitForm()">é€å‡º</button>

<script>
// èªéŸ³æœ—è®€
function speak(text) {
  const rate = document.querySelector('input[name="rate"]:checked').value;
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'zh-TW';
  utterance.rate = parseFloat(rate);
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(utterance);
}

// é€å‡ºè¡¨å–®
function submitForm() {
  const data = {
    name: document.getElementById("name").value,
    gender: document.querySelector('input[name="gender"]:checked')?.value,
    age: document.getElementById("age").value,
    speech_rate: document.querySelector('input[name="rate"]:checked').value
  };

  for (let i = 1; i <= 12; i++) {
    data["APS" + i] = document.querySelector(`input[name="APS${i}"]:checked`)?.value;
  }

  fetch("YOUR_WEB_APP_URL", {
    method: "POST",
    body: JSON.stringify(data)
  }).then(() => {
    alert("å·²é€å‡ºï¼Œæ„Ÿè¬æ‚¨çš„å¡«å¯«ï¼");
  });
}
</script>

</body>
</html>
